#### **数据接入概况**

---

数据整合接入是数据分析的第一步，数据配方平台能够方便的获取你的数据，统一数据类型，集合分散数据，简化获取流程，让你能够无需持续关注数据存储和获取的过程，专注于数据分析。

数据配方目前提供了三种方式完成数据接入，主要包括文件上传，直连数据源和调度系统同步数据：

1. 文件上传：上传本地文件进行分析，支持Excel与CSV，同时支持文件的追加、替换和下载等操作。
2. 直连数据库：最简单快捷的方式，通过平台直接连接外部数据，实现数据一键对接，简化用户获取数据过程。
3. 数据同步操作：通过面向开发者提供可编程数据拉取接口，为外部产品海量数据提供接入方案，提升数据处理速度，为用户提供更加便利的数据分析操作。

进行数据连接时，选择“定制统计”Tab，在添加数据选项中点击，选择需要添加的数据类型，则会跳转到对应的工作区域。

![](/assets/添加数据1.png)

#### **数据库**

---

**数据库连接**

直接与产品的数据库连接，如本地的MySQL数据库，可以添加多个数据源。

* 配置流程，通常包含以下几步。

* 连接配置：与外部数据连接所必要的必要信息，不同数据源需要的配置项不同。

* 服务器地址：公网可访问的数据库地址；

* 端口号：数据库端口号；

* 用户名：数据库用户名，须授权公网访问；

* 密码：与上面用户名对应的密码；

* 数据库：“ database”名称，配置后不可修改；

* 数据表配置：部分数据源支持设置同步至数据配方的工作表，主要为数据库类。

* 介绍说明：配置过程中上方为数据源的介绍和使用须知，介绍数据源接入的具体要求。配置时右侧出现的是具体配置项的使用说明，当配置过程中某个配置项无法确定时，可查看右侧帮助。

![](/assets/添加数据库.png)

【注意】

单表百万级别的数据，推荐同步到数据配方服务器，使用数据库连接可能出现不稳定，数据读取速度慢等情况。

**管理数据**

添加后的数据源会出现在数据源管理中，提供了多种操作辅助用户在使用中，使用过程可随时操作数据源。数据源状态及数量会随着修改、同步即时改变。

#### **文件上传**

---

文件数据是以文件形式保存的数据，需要经过上传导入，目前支持Excel与CSV。单个文件目前最大支持100M，可以将本地的数据，通过点击上传，也可以选择拖拽进行上传。

**上传文件**

入口在“定制统计”Tab，添加数据选项中点击，选择需要添加的文件数据类型，则会跳转到上传文件工作区域。

上传文件页面支持点击或拖拽上传

![](/assets/上传文件数据1.png)

上传完成后，用户可以初步预览数据，选择表格对应的表头。

（系统默认选择工作表中的第一行字段作为表头）![](/assets/上传文件数据2.png)

上传后，可以对工作表信息进行编辑。![](/assets/上传文件数据3.png)

**文件格式要求**

* 上传数据，支持Excel和CSV两种文件。单个文件最大支持100M。
* 不支持上传空文件和表头下方无数据的文件。
* 工作表表头名称不能重复。

**异常数据**

1. 合并单元格：数据配方不支持合并单元格数据，如果存在，则默认置为空值。
2. 表头重复：表头不允许重复的名称，否则解析失败。
3. 表头处理：系统默认文件数据的第一行为表头，可以在数据预览页面选择其它行的数据作为表头。
4. 异常信息提示：文件格式错误或者空，提示无法上传/文件格式错误。
5. 数据处理



