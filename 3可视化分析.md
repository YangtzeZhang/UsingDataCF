在进入图表编辑界面后，您只需在左侧列表中选择需要分析字段，将其拖拽至维度、数值、对比、筛选器、颜色等区域，即可开始数据分析工作。

#### **拖拽分析**

---

对需要统计分析的字段拖拽的维度和指标区域，即可绘制出表格

![](/assets/拖拽字段.png)

如果符合突变更换规则，可以在右边工作区选择更换成不同类型的图表，确定后，即可保存图表内容。

![](/assets/更换图表类型.png)

![](/assets/更换图表类型1.png)

增加维度对比，将不同的字段拖拽到此区域，展示更细维度的数据信息。

![](/assets/增加维度对比.png)

数据筛选：可以将字段拖入到筛选条件下，进行数据筛选。

![](/assets/数据筛选.png)

#### **维度、对比和数值**

---

维度、对比、数值是构成分析图表的基础元素，数值根据维度和对比的设置进行汇总计算，其结果转换为可视化图表输出。

下面以分析某个游戏用户登录数据分析作为实例，介绍三个基础元素的概念。
假设第一个目标是“查看不同平台玩家的平均登录等级”。
“玩家的平均登录等级”即是数值，类似的可以作为数值的还有，“登录人数”，“登录次数”等等，用来描述所查看的数值的类别，就是维度，比如，目标里面的“不同平台”就是作为查看的类别。所以，将“平台”字段拖拽到“维度”区域，将“登录等级”拖拽到“数值”区域，得到下列表格：
![](/assets/维度1.png)

可以注意到，位于数值的“登录等级”字段显示着“AVG（求平均值）”，这代表这个数值的聚合方式，所以用户可以按照实际需求切换聚合方式为“求和”、“计数”、“去重计数”、“最大值”、“最小值”等等。

以上图为例，系统会自动将所有数据记录按照游戏登录平台，相同平台的数据记录所对应的“登录”会被合并作为不同时间段的“聚合值”。在数据配方中，若您希望使用某些维度将可视化的图形细分到更细粒度，并重点对比这个维度中的每项彼此之间的差异，您可以将数据拖拽到“对比”。比如在上图基础上，若希望查看每一天，仔细对比不同时间的登录等级，可以将“日期”拖拽到“对比”区域，得到下表
![](/assets/维度2.png)
![](/assets/维度3.png)
可以看到，系统使用了不同的颜色去区分不同类别的数据，可以通过图表下方的图例查看每种颜色代表的日期时间，并详细对比每一天的数据。

有些情况下，非数值类型的字段，也可以通过计数和去重计数的聚合方式得到数值结果用于分析。
例如，刚刚提到的查看每一天的登录认识，就需要将“日期”拖拽到维度区域，并将“用户ID”

#### **图表类型**

---

在进行拖拽操作后，数据配方首先会自动选择最适合当前数据的图表类型，也可以根据需求切换为其他图表。

数据配方提供了丰富美观的图表类型，将数据以最合适的方式进行展示和分析。所有支持的图表类型均显示在右上方的区域，正常状态表示可以进行切换，置灰状态表示当前所选的数据不适合此图表类型。

![](/_book/assets/图表类型1.png)

| 图表类型 | 维度和数值规则限制 | 是否支持维度对比 |
| :---: | :--- | :---: |
| 表格 | 0个或多个维度，0个或多个数值 | 是 |
| 指标卡 | 0个维度，1个或2个数值 | 否 |
| 扇形图 | 1个维度，1个数值；0个维度，多个数值 | 否 |
| 折线图 | 1个维度，1个或多个数值； | 是 |
| 面积图 | 1个维度，2个或多个数值 | 是 |
| 柱形图 | 0个或1个维度，1个或多个数值 | 是 |
| 散点图 | 1个或多个维度，2个数值 | 否 |
| 地图 | 暂不支持 | 否 |
| 气泡图 | 1个维度，0个数值；0个维度，1个数值 | 否 |
| 漏斗图 | 1个维度，1个数值；0个维度，多个数值 | 否 |
| 双轴图 | 1个或多个维度，多个数值（添加次轴） | 是 |

#### **数据筛选**

---

数据筛选主要是帮助用户在数据分析过程中，排除不正确或不相关的数据干扰。

在数据配方产品中，主要提供两种筛选器，图内筛选器，以及全局结果筛选器。

**图内筛选器**

用户可以将需要筛选的字段，拖拽到维度，数值下方的筛选框内，设置相应的筛选条件。不同的字段类型对应不同的筛选器类型。

文本字段

当字段为文本类型时，数据配方选用两种筛选方式，一种是常规的，勾选几种类型，进行筛选符合该条件（或者排除该条件）的数据。

![](/assets/文本筛选.png)

另一种是采用通配符的形式，设置一个根据文本判断的条件，筛选结果为符合所有条件（或者排除所选条件）的数据。

![](/assets/数值筛选.png)

数值字段

当字段为数值字段时，可以使用条件筛选直接设置一个开区间或者闭区间。

![](/assets/数值筛选2.png)

时间字段

当字段为日期型时，默认会提供一个可选日期范围的列表，包括“今天”、“昨天”、“最近7天”、“最近30天”、“最近1年”等常用的动态时间范围或自定义的时间段。通过选择动态日期范围，DataCF将根据使用的当前时间进行动态的筛选，保证数据结果符合数据筛选需求。

![](/assets/时间筛选.png)

如果筛选条件不是默认的动态时间，可以使用自定义时间段进行筛选。

![](/assets/时间筛选2.png)

**全局结果筛选器**

添加图表后，增加“全局筛选”按钮；点击弹窗 设置添加全局筛选条件（多图表）

 ①加载当前布局（报表）内所有图表名称（可选择，只可选择一个工作表）；

 ②加载当前布局（报表）内所有图表关联的工作表名称（可选择，可选择多个图表）；

 ③系统判断选择的图表具有关联的字段，显示在右侧。

 ④选择指定图表的涉及字段作为查询条件

 其中不同字段类型做不同处理：

*  时间：加载时间插件，支持按日 周 月三种聚合查询；

*  文本值：加载搜索框，支持精确匹配和模糊搜索；

*  数值：加载条件下拉框和搜索框，“介于”表示两者之间的值，其余有且仅有一个值。

#### **数据计算**

---

**普通数据聚合**

* 求和：对字段值进行sum求和
* 平均值：对字段值进行avg求平均值
* 计数：对字段值进行count
* 去重计数：对字段值进行distinct count

* 最大值：找出字段值的max值

* 最小值：找出字段值的min值

**高级计算**

* 环比增长值/率（目前只支持维度为日期的计算条件）

环比：环比一般情况下是今年第n月与今年第n-1月比。环比是本期统计数据与上期统计数据比较，用以说明本统计周期数据与前一统计周期数据相比的变化量。例如，本期2月比今年1月，本期6月比今年5月等。

环比计算方法：（统计周期，按选择的时间维度）

`环比增长值= 本统计周期数据 - 上统计周期数据`

`环比增长率=（本统计周期数据-上统计周期数据）/上统计周期数据 × 100%。`

* 同比增长值/率（目前只支持维度为日期的计算条件）

同比：同比一般情况下是今年/月/周/第n月与去年/第n月比。使用同比主要是为了消除季节变动的影响，用以说明本统计周期数据与去年同期数据相比的变化量。例如：本期2月比去年2月，本期6月比去年6月等。

同比计算方法：（统计周期，按选择的时间维度）

`同比增长值= 本统计周期数据 - 去年/月/周同期数据`

`同比增长率=（本统计周期数据 - 去年/月/周同期数据）/去年/月/周同期数据 × 100%`

* 百分比

百分比计算可以快速计算出一列数据中各自所占的百分比数，在数值下拉列表中高级计算-&gt;百分比即可。

**表格行/列汇总计算**

1、在使用表格时，用户选择显示行/列总计时，系统自动计算显示表格内的汇总/平均数据，用户根据喜好，可以调整显示位置；

2、使用列总计的时候，判断现有表格数据具有多少个列，并将这些列的表头名称，显示为可以更换计算方式的选项，如下图所示：

![](/assets/表格汇总.png)

**表格列与列计算**

用户在使用过程中，需要对比某两列的数据，或者汇总某两列的数据，需要用到此功能：

![](/assets/表格列计算.png)![](/assets/表格列计算2.png)

